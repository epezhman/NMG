@using APS.Common.Statics
@using APS.Common.Models
{8}
@model PagedList<{0}>
@{{    
    int i = Model.PagingItem.PageIndex * Model.PagingItem.PageSize;
    PagingItems sobj = Model.PagingItem;
    int ix = sobj.PageIndex;    
}}
<table class="flexi">
    
</table>
<script type="text/javascript">


		$(".flexi").flexigrid({{
			url : '/Person/Ix',
			dataType : 'json',
			colModel : [ {{
				display : 'Firstname',
				name : 'firstname',
				width : 40,
				sortable : true,
				align : 'center'
			}}, {{
				display : 'Lastname',
				name : 'lastName',
				width : 180,
				sortable : true,
				align : 'left'
			}}, {{
				display : 'Gender',
				name : 'gender',
				width : 80,
				sortable : true,
				align : 'right'
			}} ],
			buttons : [ {{
				name : 'Add',
				bclass : 'add',
				onpress : test
			}}, {{
				name : 'Delete',
				bclass : 'delete',
				onpress : test
			}}, {{
				separator : true
			}} ],
			searchitems : [ {{
				display : 'ISO',
				name : 'iso'
			}}, {{
				display : 'Name',
				name : 'name',
				isdefault : true
			}} ],
			sortname : "iso",
			sortorder : "asc",
			usepager : true,
			title : 'Countries',
			useRp : true,
			rp : 15,
			showTableToggleBtn : true,
			width : 700,
			height : 200
		}});

		function test(com, grid) {{
			if (com == 'Delete') {{
				confirm('Delete ' + $('.trSelected', grid).length + ' items?')
			}} else if (com == 'Add') {{
				alert('Add New Item');
			}}
		}}
	</script>
